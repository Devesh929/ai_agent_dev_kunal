# Please install OpenAI SDK first: `pip3 install openai`
import os
from openai import OpenAI



'''response = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=[
        {
            "role": "system",
            "content": "You are an IMO-level great mathematician and problem solver."
        },
        {
            "role": "user",
            "content": r"""what is the 200th prime number"""
        },
    ],
    # Optional: this is redundant for deepseek-reasoner, but valid
    extra_body={"thinking": {"type": "enabled"}},
    stream=True,
)'''

stream = client.chat.completions.create(
    model="deepseek-reasoner",
    messages=[
        {
            "role": "system",
            "content": "You are an IMO-level great mathematician and problem solver."
        },
        {
            "role": "user",
            "content": r"""what is the 200th prime number"""
        },
    ],
    extra_body={"thinking": {"type": "enabled"}},  # optional for deepseek-reasoner
    stream=True,
)

reasoning = ""
answer = ""

print("=== STREAMED OUTPUT ===")
for chunk in stream:
    delta = chunk.choices[0].delta

    # CoT tokens
    if getattr(delta, "reasoning_content", None):
        token = delta.reasoning_content
        reasoning += token
        # if you want to see CoT live, uncomment:
        print(token, end="", flush=True)

    # Final answer tokens
    if getattr(delta, "content", None):
        token = delta.content
        answer += token
        print(token, end="", flush=True)

print("\n\n=== FULL REASONING ===")
print(reasoning)

print("\n=== FINAL ANSWER ===")
print(answer)
